<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshMart!</title>
    <!-- External CSS File Link -->
    <link rel="stylesheet" href="styles.css">
    <!-- <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4;
            color: #333;
            line-height: 1.6;
        }
        nav {
            background-color: #333;
            color: white;
            padding: 10px 0;
            text-align: center;
        }
        nav a {
            color: white;
            text-decoration: none;
            margin: 0 15px;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        .product-item {
            background: white;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-align: center;
        }
        .product-name {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        .product-price {
            font-weight: bold;
            margin-bottom: 15px;
        }
        .add-to-cart {
            background: #5cb85c;
            color: white;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            border-radius: 5px;
        }
        .add-to-cart:hover {
            background: #4cae4c;
        }
        .sort-options {
            padding: 0 20px;
            margin: 20px 0;
        }
        #signature {
            text-align: center; 
            margin-top: 40px; 
            font-size: 0.9em; 
            color: #333; 
        }
    </style> -->
</head>
</head>
<body>
    <header>
        <h1>FreshMart!</h1>
    </header>
    <nav>
        <a href="customer.html">Customer</a>
        <a href="products.html">Products</a>
        <a href="cart.html">Cart</a>
    </nav>

    <div class="sort-options">
        <p>Here are your targeted products based on your dietary restrictions.</p>
        <label for="sort">Products sorted by:</label>
        <select id="sort" name="sort">
            <option value="default">Default</option>
            <option value="price" selected>Price</option>
        </select>
    </div>

    <div class="product-grid" id="product-list"></div>

    <!-- <script>
        // JavaScript for dynamic product listing and sorting
        var products = [
            { name: 'Apple', price: 0.99, category: 'Organic' },
            { name: 'Bread', price: 2.99, category: 'Gluten Free' },
            { name: 'Cucumber', price: 1.20, category: 'Organic' },
            { name: 'Chicken', price: 4.99, category: 'Meat' },
            { name: 'Carrot', price: 1.50, category: 'Organic' },
            { name: 'Salmon', price: 7.99, category: 'Meat' },
            { name: 'Lettuce', price: 1.99, category: 'Organic' },
            { name: 'Pasta', price: 3.49, category: 'Gluten Free' },
            { name: 'Beef', price: 9.99, category: 'Meat' },
            { name: 'Tomato', price: 1.25, category: 'Organic' },
            { name: 'Orange', price: 1.49, category: 'Organic' },
            { name: 'Yogurt', price: 2.79, category: 'Dairy' },
        ];

        // Function to filter products based on dietary restrictions
        function filterProducts(diet, productList) {
            if (diet === 'Vegetarian') {
                // If Vegetarian, exclude 'Chicken', 'Salmon', 'Beef' products
                return productList.filter(product => product.category !== 'Meat');
            } else if (diet === 'Gluten Free') {
                // If Gluten Free, exclude products with 'Gluten Free' category
                return productList.filter(product => product.category !== 'Gluten Free');
            } else if (diet === 'Organic') {
                // If Organic, only show products with 'Organic' category
                return productList.filter(product => product.category === 'Organic');
            } else if (diet === 'Meat') {
                // If Meat, show 'Chicken', 'Salmon', 'Beef' products
                return productList.filter(product => ['Chicken', 'Salmon', 'Beef'].includes(product.name));
            }
            // If none or any other preference, show all products
            return productList;
        }

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        // Function to add a product to the cart
        function addToCart(productName) {
            // Find the product details based on the productName
            const product = products.find(p => p.name === productName);
            // Check if the product is already in the cart
            const productInCart = cart.find(p => p.name === productName);

            if (productInCart) {
                // If it's already in the cart, increment the quantity
                productInCart.quantity += 1;
            } else {
                // If it's not in the cart, add it with a quantity of 1
                cart.push({ ...product, quantity: 1 });
            }

            
            localStorage.setItem('cart', JSON.stringify(cart));
            alert(productName + ' added to cart');
        }

        // Function to sort products based on the selected option
        function sortProducts(sortBy, productList) {
            if (sortBy === 'price') {
                // Sort by price
                return productList.sort((a, b) => a.price - b.price);
            } else {
  
                return productList.sort((a, b) => a.name.localeCompare(b.name));
            }
        }

        
        function displayProducts() {
            const productGrid = document.getElementById('product-list');
            productGrid.innerHTML = ''; 

            const dietPreference = localStorage.getItem('dietPreference'); // Retrieve the diet preference
            const sortedProducts = sortProducts(document.getElementById('sort').value, products);
            const filteredProducts = dietPreference ? filterProducts(dietPreference, sortedProducts) : sortedProducts;

            filteredProducts.forEach(function(product, index) {
            const productHTML = `
                <div class="product-item">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">$${product.price.toFixed(2)}</div>
                    <button class="add-to-cart" onclick="addToCart('${product.name}')">Add to Cart</button>
                </div>
            `;
            productGrid.insertAdjacentHTML('beforeend', productHTML);
        });
    }

        
        document.getElementById('sort').addEventListener('change', function() {
            displayProducts(); 
        });

        
        displayProducts();
    </script> -->
    <div id="signature">
        <p>Website designed by Eshal Kamran, Ravishan Jayasuriya, and Anas Khelifa</p>
    </div>
<script src="products.js"></script>
</body>
</html>